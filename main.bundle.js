!function(){"use strict";var e="",t=e+"c75819857ff1599f0c50.svg",n=e+"342cc0a953e40ff4aadc.png";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var u=function(){return e=function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._placeName=t,this._link=n,this._templateSelector=r,this._handleCardClick=o},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".cards__item").cloneNode(!0)}},{key:"createCard",value:function(){var e=this;return this._element=this._getTemplate(),this._element.querySelector(".cards__item-image").src=this._link,this._element.querySelector(".cards__footer-name").textContent=this._placeName,this._element.querySelector(".cards__item-image").alt="Foto de "+this._placeName,this._element.querySelector(".cards__footer-fav-button").addEventListener("click",(function(){return e._like()})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){return e._delete()})),this._element.querySelector(".cards__item-image").addEventListener("click",(function(){e._handleCardClick()})),this._element}},{key:"_like",value:function(){this._element.querySelector(".cards__footer-fav-button").classList.toggle("cards__footer-fav-button_active")}},{key:"_delete",value:function(){this._element.querySelector(".cards__delete").closest(".cards__item").remove()}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var f=l((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_showInputError",(function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),r.textContent=n,r.classList.add("popup__input-error_active")})),s(this,"_hideInputError",(function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),n.classList.remove("popup__input-error_active"),n.textContent=""})),s(this,"_checkInputValidity",(function(e,t){t.validity.valid?r._hideInputError(e,t):r._showInputError(e,t,t.validationMessage)})),s(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),s(this,"_toggleButtonState",(function(e,t){r._hasInvalidInput(e)?(t.disabled=!0,t.classList.add("popup__button-save_inactive")):(t.classList.remove("popup__button-save_inactive"),t.disabled=!1)})),s(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button-save");r._toggleButtonState(t,n),t.forEach((function(o){o.addEventListener("input",(function(){r._checkInputValidity(e,o),r._toggleButtonState(t,n)}))}))})),s(this,"enableValidation",(function(){Array.from(document.querySelectorAll(".popup__admin")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(e.querySelectorAll(".popup__container")).forEach((function(e){r._setEventListeners(e)}))}))})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelecto,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n}));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}function h(e,t,n){return t=w(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,n||[],w(e).constructor):t.apply(e,n))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(null,arguments)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var q=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e]))._formElement=r._popupElement.querySelector(".popup__admin"),r._inputList=r._formElement.querySelectorAll(".popup__input "),r._handleFormSubmit=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(r=[{key:"getInputValues",value:function(){var e=this;return this.formValues={},this._inputList.forEach((function(t){e.formValues[t.name]=t.value})),this.formValues}},{key:"setEventListeners",value:function(){var e=this;E(w(t.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".popup__admin").addEventListener("submit",(function(n){n.preventDefault,e._handleFormSubmit(e.getInputValues()),E(w(t.prototype),"close",e).call(e)}))}},{key:"close",value:function(){E(w(t.prototype),"close",this).call(this),this._formElement.reset()}}])&&_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(function(){return e=function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=v(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popupElement=document.querySelector(t),this.setEventListeners()},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-icon").addEventListener("click",(function(){e.close()})),this._popupElement.querySelector(".popup__overlay").addEventListener("click",(function(){e.close()}))}}])&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var P=function(){return e=function e(t){var n=t.name,r=t.about;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r)},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._about.textContent=t}}])&&j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}var T=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(t=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&L(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.querySelector(".header__logo").src=t,document.querySelectorAll(".popup__close-icon").forEach((function(e){e.src=n}));var x=document.querySelector("#text-input-place"),B=document.querySelector("#url-input"),A=document.querySelector("#text-input-name"),V=document.querySelector("#text-input-about"),D=document.querySelector("#add-button"),N=document.querySelector("#edit-button"),R=document.querySelector(".popup__container");new f({formSelector:document.querySelector(".popup__admin"),inputSelector:document.querySelectorAll(".popup__input"),submitButtonSelector:document.querySelector(".popup__button-save"),inactiveButtonClass:document.querySelector("popup__button-save_disabled"),inputErrorClass:document.querySelector("popup__input_type_error"),errorClass:document.querySelector("popup__error_visible")},R).enableValidation();var U=new q(".popup-place",(function(e){var t=e.title,n=e.link,r=new u(t,n,"#cards-template",(function(){PopupImage.open(t,n)})).createCard();document.querySelector(".cards").prepend(r),x.textContent=t,B.textContent=n})),F=new q(".popup-profile",(function(e){var t=e.name,n=e.about;console.log(t,n),A.textContent=t,V.textContent=n,newUserInfo.setUserInfo(t,n)}));N.addEventListener("click",(function(e){e.preventDefault(),F.open()})),D.addEventListener("click",(function(e){x.value="",B.value="",e.preventDefault(),U.open()})),fetch("https://around.nomoreparties.co/v1/web_es_11/users/me",{method:"GET",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f"}}).then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".profile__avatar").src=e.avatar,new P({name:".profile__info-name",about:".profile__info-description"}).setUserInfo(e.name,e.about)})),fetch("https://around.nomoreparties.co/v1/web_es_11/cards",{method:"GET",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f"}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=new T({items:e,renderer:function(e){var n=new u(e.placeName,e.link,"#cards-template",(function(){PopupImage.open(e.placeName,e.link)})).createCard();t.addItem(n)}},".cards");t.renderItems()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJtYXBwaW5ncyI6InlCQUNBLElBQUlBLEVDRG9CLEcsc3VCQ0NIQyxFQUFJLFdBU3ZCLE8sRUFQQSxTQUFBQSxFQUFZQyxFQUFXQyxFQUFNQyxFQUFrQkMsSSw0RkFBa0JDLENBQUEsS0FBQUwsR0FDL0RNLEtBQUtDLFdBQWFOLEVBQ2xCSyxLQUFLRSxNQUFRTixFQUNiSSxLQUFLRyxrQkFBb0JOLEVBQ3pCRyxLQUFLRixpQkFBbUJBLENBQzFCLEcsRUFFQSxFQUFBTSxJQUFBLGVBQUFDLE1BQ0EsV0FNRSxPQUxxQkMsU0FDbEJDLGNBQWNQLEtBQUtHLG1CQUNuQkssUUFBUUQsY0FBYyxnQkFDdEJFLFdBQVUsRUFHZixHQUFDLENBQUFMLElBQUEsYUFBQUMsTUFFRCxXQUFhLElBQUFLLEVBQUEsS0FpQlgsT0FoQkFWLEtBQUtXLFNBQVdYLEtBQUtZLGVBRXJCWixLQUFLVyxTQUFTSixjQUFjLHNCQUFzQk0sSUFBTWIsS0FBS0UsTUFDN0RGLEtBQUtXLFNBQVNKLGNBQWMsdUJBQXVCTyxZQUFjZCxLQUFLQyxXQUN0RUQsS0FBS1csU0FBU0osY0FBYyxzQkFBc0JRLElBQU0sV0FBYWYsS0FBS0MsV0FHMUVELEtBQUtXLFNBQVNKLGNBQWMsNkJBQTZCUyxpQkFBaUIsU0FBUyxrQkFBTU4sRUFBS08sT0FBTyxJQUdyR2pCLEtBQUtXLFNBQVNKLGNBQWMsa0JBQWtCUyxpQkFBaUIsU0FBUyxrQkFBTU4sRUFBS1EsU0FBUyxJQUc1RmxCLEtBQUtXLFNBQVNKLGNBQWMsc0JBQXNCUyxpQkFBaUIsU0FBUyxXQUMxRU4sRUFBS1osa0JBQWtCLElBRWxCRSxLQUFLVyxRQUNkLEdBQUMsQ0FBQVAsSUFBQSxRQUFBQyxNQUVELFdBQ3FCTCxLQUFLVyxTQUFTSixjQUFjLDZCQUNwQ1ksVUFBVUMsT0FBTyxrQ0FDOUIsR0FBQyxDQUFBaEIsSUFBQSxVQUFBQyxNQUVELFdBQ3VCTCxLQUFLVyxTQUFTSixjQUFjLGtCQUNwQ2MsUUFBUSxnQkFBZ0JDLFFBQ3ZDLE0sNkVBQUMsQ0EvQ3NCLEcsaTVCQ0RKQyxFQUFhQyxHQUNoQyxTQUFBRCxFQUFZRSxFQUFZQyxHQUFhLElBQUFoQixFQUFBLE0sNEZBQUFYLENBQUEsS0FBQXdCLEdBQUFJLEVBQUEsd0JBVW5CLFNBQUNELEVBQWFFLEVBQWNDLEdBQzFDLElBQU1DLEVBQWVKLEVBQVluQixjQUFjLElBQUR3QixPQUFLSCxFQUFhSSxHQUFFLFdBQ2xFSixFQUFhVCxVQUFVYyxJQUFJLDJCQUMzQkgsRUFBYWhCLFlBQWNlLEVBQzNCQyxFQUFhWCxVQUFVYyxJQUFJLDRCQUM3QixJQUFDTixFQUFBLHdCQUVpQixTQUFDRCxFQUFhRSxHQUM5QixJQUFNRSxFQUFlSixFQUFZbkIsY0FBYyxJQUFEd0IsT0FBS0gsRUFBYUksR0FBRSxXQUNsRUosRUFBYVQsVUFBVUcsT0FBTywyQkFDOUJRLEVBQWFYLFVBQVVHLE9BQU8sNkJBQzlCUSxFQUFhaEIsWUFBYyxFQUM3QixJQUFDYSxFQUFBLDRCQUVxQixTQUFDRCxFQUFhRSxHQUM3QkEsRUFBYU0sU0FBU0MsTUFHekJ6QixFQUFLMEIsZ0JBQWdCVixFQUFhRSxHQUZsQ2xCLEVBQUsyQixnQkFBZ0JYLEVBQWFFLEVBQWNBLEVBQWFVLGtCQUlqRSxJQUFDWCxFQUFBLHlCQUVrQixTQUFDWSxHQUNsQixPQUFPQSxFQUFVQyxNQUFLLFNBQUNaLEdBQ3JCLE9BQVFBLEVBQWFNLFNBQVNDLEtBQ2hDLEdBQ0YsSUFBQ1IsRUFBQSwyQkFFb0IsU0FBQ1ksRUFBV0UsR0FDM0IvQixFQUFLZ0MsaUJBQWlCSCxJQUN4QkUsRUFBY0UsVUFBVyxFQUN6QkYsRUFBY3RCLFVBQVVjLElBQUksaUNBRTVCUSxFQUFjdEIsVUFBVUcsT0FBTywrQkFDL0JtQixFQUFjRSxVQUFXLEVBRTdCLElBQUNoQixFQUFBLDJCQUVvQixTQUFDRCxHQUNwQixJQUFNYSxFQUFZSyxNQUFNQyxLQUFLbkIsRUFBWW9CLGlCQUFpQixrQkFDcERMLEVBQWdCZixFQUFZbkIsY0FBYyx1QkFDOUNHLEVBQUtxQyxtQkFBbUJSLEVBQVdFLEdBQ25DRixFQUFVUyxTQUFRLFNBQUNwQixHQUNqQkEsRUFBYVosaUJBQWlCLFNBQVMsV0FDckNOLEVBQUt1QyxvQkFBb0J2QixFQUFhRSxHQUNyQ2xCLEVBQUtxQyxtQkFBbUJSLEVBQVdFLEVBQ3RDLEdBQ0YsR0FDRixJQUFDZCxFQUFBLHlCQUVrQixXQUNFaUIsTUFBTUMsS0FBS3ZDLFNBQVN3QyxpQkFBaUIsa0JBQzdDRSxTQUFRLFNBQUN0QixHQUNoQkEsRUFBWVYsaUJBQWlCLFVBQVUsU0FBVWtDLEdBQy9DQSxFQUFJQyxnQkFDTixJQUVxQlAsTUFBTUMsS0FBS25CLEVBQVlvQixpQkFBaUIsc0JBRWhERSxTQUFRLFNBQUNJLEdBQ3BCMUMsRUFBSzJDLG1CQUFtQkQsRUFDMUIsR0FDRixHQUNGLElBeEVGcEQsS0FBS3NELGNBQWdCN0IsRUFBVzhCLGFBQ2hDdkQsS0FBS3dELGVBQWlCL0IsRUFBV2dDLGFBQ2pDekQsS0FBSzBELHNCQUF3QmpDLEVBQVdrQyxxQkFDeEMzRCxLQUFLNEQscUJBQXVCbkMsRUFBV29DLG9CQUN2QzdELEtBQUs4RCxpQkFBbUJyQyxFQUFXc0MsZ0JBQ25DL0QsS0FBS2dFLFlBQWN2QyxFQUFXd0MsV0FDOUJqRSxLQUFLa0UsYUFBZXhDLENBQ3hCLEksKzVFQ1Q2QixJQUVWeUMsRUFBYSxTQUFBQyxHQUNsQyxTQUFBRCxFQUFZRSxFQUFlQyxHQUFpQixJQUFBNUQsRUFJRSxPLDRGQUpGWCxDQUFBLEtBQUFvRSxJQUN4Q3pELEVBQUE2RCxFQUFBLEtBQUFKLEVBQUEsQ0FBTUUsS0FDREgsYUFBZXhELEVBQUs4RCxjQUFjakUsY0FBYyxpQkFDckRHLEVBQUsrRCxXQUFhL0QsRUFBS3dELGFBQWFwQixpQkFBaUIsa0JBQ3JEcEMsRUFBS2dFLGtCQUFvQkosRUFBaUI1RCxDQUM5QyxDQUFDLE8scVJBQUFpRSxDQUFBUixFQUFBQyxHLEVBQUFELEcsRUFBQSxFQUFBL0QsSUFBQSxpQkFBQUMsTUFFRCxXQUFnQixJQUFBdUUsRUFBQSxLQUtoQixPQUpBNUUsS0FBSzZFLFdBQWEsQ0FBQyxFQUNuQjdFLEtBQUt5RSxXQUFXekIsU0FBUSxTQUFDOEIsR0FDckJGLEVBQUtDLFdBQVdDLEVBQU1DLE1BQVFELEVBQU16RSxLQUN4QyxJQUNPTCxLQUFLNkUsVUFDWixHQUFDLENBQUF6RSxJQUFBLG9CQUFBQyxNQUdELFdBQW1CLElBQUEyRSxFQUFBLEtBQ2ZDLEVBQUFDLEVBQUFmLEVBQUFnQixXQUFBLDBCQUFBQyxLQUFBLE1BRUFwRixLQUFLd0UsY0FBY2pFLGNBQWMsaUJBQWlCUyxpQkFBaUIsVUFBVSxTQUFDa0MsR0FDMUVBLEVBQUlDLGVBQ0o2QixFQUFLTixrQkFBa0JNLEVBQUtLLGtCQUM1QkosRUFBQUMsRUFBQWYsRUFBQWdCLFdBQUEsUUFBQUgsR0FBQUksS0FBQUosRUFDSixHQUNKLEdBQUMsQ0FBQTVFLElBQUEsUUFBQUMsTUFFRCxXQUNJNEUsRUFBQUMsRUFBQWYsRUFBQWdCLFdBQUEsY0FBQUMsS0FBQSxNQUNBcEYsS0FBS2tFLGFBQWFvQixPQUN0QixNLDZFQUFDLENBOUJpQyxDQ0RSLFdBSXJCLE8sRUFIRCxTQUFBQyxFQUFZbEIsR0FBYyxJLE1BQUEzRCxFQUFBLE0sNEZBQUFYLENBQUEsS0FBQXdGLEcsRUFBQSxLLEVBZVIsU0FBQ3JDLEdBRUssV0FBWkEsRUFBSTlDLEtBQ0pNLEVBQUs4RSxPQUVqQixHLE1BcEIwQixzQix3RkFDdEJ4RixLQUFLd0UsY0FBZ0JsRSxTQUFTQyxjQUFjOEQsR0FDNUNyRSxLQUFLeUYsbUJBQ1QsRyxFQUFDLEVBQUFyRixJQUFBLE9BQUFDLE1BRUQsV0FDSUwsS0FBS3dFLGNBQWNyRCxVQUFVYyxJQUFJLGNBQ2pDM0IsU0FBU1UsaUJBQWlCLFVBQVdoQixLQUFLMEYsZ0JBQzlDLEdBQUMsQ0FBQXRGLElBQUEsUUFBQUMsTUFFRCxXQUNJTCxLQUFLd0UsY0FBY3JELFVBQVVHLE9BQU8sY0FDcENoQixTQUFTcUYsb0JBQW9CLFVBQVczRixLQUFLMEYsZ0JBQ2pELEdBQUMsQ0FBQXRGLElBQUEsb0JBQUFDLE1BU0QsV0FBb0IsSUFBQXVFLEVBQUEsS0FFSTVFLEtBQUt3RSxjQUFjakUsY0FBYyxzQkFFekNTLGlCQUFpQixTQUFTLFdBQ2xDNEQsRUFBS1ksT0FDVCxJQUVnQnhGLEtBQUt3RSxjQUFjakUsY0FBYyxtQkFFekNTLGlCQUFpQixTQUFTLFdBQzlCNEQsRUFBS1ksT0FDVCxHQUVKLE0sNkVBQUMsQ0FyQ3FCLEksd3FCQ0RMSSxFQUFRLFdBSXhCLE8sRUFIRCxTQUFBQSxFQUFBQyxHQUE2QixJQUFmZCxFQUFJYyxFQUFKZCxLQUFNZSxFQUFLRCxFQUFMQyxPLDRGQUFLL0YsQ0FBQSxLQUFBNkYsR0FDdkI1RixLQUFLK0YsTUFBUXpGLFNBQVNDLGNBQWN3RSxHQUNwQy9FLEtBQUtnRyxPQUFTMUYsU0FBU0MsY0FBY3VGLEVBQ3ZDLEcsRUFBQyxFQUFBMUYsSUFBQSxjQUFBQyxNQUNELFdBQ0UsTUFBTyxDQUNMMEUsS0FBTS9FLEtBQUsrRixNQUFNakYsWUFDakJnRixNQUFPOUYsS0FBS2dHLE9BQU9sRixZQUV2QixHQUFDLENBQUFWLElBQUEsY0FBQUMsTUFDRCxTQUFZMEUsRUFBTWUsR0FDaEI5RixLQUFLK0YsTUFBTWpGLFlBQWNpRSxFQUN6Qi9FLEtBQUtnRyxPQUFPbEYsWUFBY2dGLENBQzVCLE0sNkVBQUMsQ0Fkd0IsRyx3cUJDQVJHLEVBQU8sV0FLdkIsTyxFQUpELFNBQUFBLEVBQUFKLEVBQStCSyxHQUFrQixJQUFwQ0MsRUFBS04sRUFBTE0sTUFBT0MsRUFBUVAsRUFBUk8sVSw0RkFBUXJHLENBQUEsS0FBQWtHLEdBQ3hCakcsS0FBS3FHLE9BQVNGLEVBQ2RuRyxLQUFLc0csVUFBWUYsRUFDakJwRyxLQUFLdUcsV0FBYWpHLFNBQVNDLGNBQWMyRixFQUM3QyxHLEVBQUMsRUFBQTlGLElBQUEsY0FBQUMsTUFFRCxXQUFhLElBQUFLLEVBQUEsS0FDVFYsS0FBS3FHLE9BQU9yRCxTQUFRLFNBQUF3RCxHQUNoQjlGLEVBQUs0RixVQUFVRSxFQUNqQixHQUNOLEdBQUMsQ0FBQXBHLElBQUEsVUFBQUMsTUFFRCxTQUFRb0csR0FDSnpHLEtBQUt1RyxXQUFXRyxRQUFRRCxFQUU1QixNLDZFQUFDLENBaEJ1QixHQ1VWbkcsU0FBU0MsY0FBYyxpQkFDL0JNLElBQU04RixFQUVGckcsU0FBU3dDLGlCQUFpQixzQkFDbENFLFNBQVEsU0FBQXdELEdBQ1pBLEVBQUszRixJQUFNK0YsQ0FDYixJQUVBLElBQU1DLEVBQWF2RyxTQUFTQyxjQUFjLHFCQUNwQ3VHLEVBQVl4RyxTQUFTQyxjQUFjLGNBQ25Dd0csRUFBWXpHLFNBQVNDLGNBQWMsb0JBQ25DeUcsRUFBYTFHLFNBQVNDLGNBQWMscUJBQ3BDMEcsRUFBWTNHLFNBQVNDLGNBQWMsZUFDbkMyRyxFQUFhNUcsU0FBU0MsY0FBYyxnQkFDcEM0RyxFQUFlN0csU0FBU0MsY0FBYyxxQkFFdEIsSUFBSWdCLEVBQ3hCLENBQ0VnQyxhQUFjakQsU0FBU0MsY0FBYyxpQkFDckM2RyxjQUFlOUcsU0FBU3dDLGlCQUFpQixpQkFDekNhLHFCQUFzQnJELFNBQVNDLGNBQWMsdUJBQzdDc0Qsb0JBQXFCdkQsU0FBU0MsY0FBYywrQkFDNUN3RCxnQkFBaUJ6RCxTQUFTQyxjQUFjLDJCQUN4QzBELFdBQVkzRCxTQUFTQyxjQUFjLHlCQUVyQzRHLEdBR1lFLG1CQUdkLElBQU1DLEVBQWEsSUFBSW5ELEVBQWMsZ0JBQWdCLFNBQUEwQixHQUFnQixJQUFkMEIsRUFBSzFCLEVBQUwwQixNQUFNM0gsRUFBSWlHLEVBQUpqRyxLQUlyRDRILEVBSFUsSUFBSTlILEVBQUs2SCxFQUFPM0gsRUFBTSxtQkFBbUIsV0FDdkQ2SCxXQUFXQyxLQUFLSCxFQUFPM0gsRUFDekIsSUFDNEIrSCxhQUM1QnJILFNBQVNDLGNBQWMsVUFBVW1HLFFBQVFjLEdBQ3pDWCxFQUFXL0YsWUFBY3lHLEVBQ3pCVCxFQUFVaEcsWUFBY2xCLENBQzFCLElBR01nSSxFQUFlLElBQUl6RCxFQUFjLGtCQUFrQixTQUFBMEQsR0FBZ0IsSUFBZDlDLEVBQUk4QyxFQUFKOUMsS0FBS2UsRUFBSytCLEVBQUwvQixNQUM5RGdDLFFBQVFDLElBQUloRCxFQUFNZSxHQUNsQmlCLEVBQVVqRyxZQUFjaUUsRUFDeEJpQyxFQUFXbEcsWUFBY2dGLEVBQzNCa0MsWUFBWUMsWUFBWWxELEVBQU1lLEVBQzlCLElBRUFvQixFQUFXbEcsaUJBQWlCLFNBQVMsU0FBQ2tDLEdBQ3BDQSxFQUFJQyxpQkFDSnlFLEVBQWFGLE1BQ2YsSUFFQVQsRUFBVWpHLGlCQUFpQixTQUFTLFNBQUNrQyxHQUNuQzJELEVBQVd4RyxNQUFRLEdBQ25CeUcsRUFBVXpHLE1BQVEsR0FDbEI2QyxFQUFJQyxpQkFDSm1FLEVBQVdJLE1BQ2IsSUFJQVEsTUFBTSx3REFBeUQsQ0FDN0RDLE9BQVEsTUFDUkMsUUFBUyxDQUNQQyxjQUFlLDBDQUdoQkMsTUFBSyxTQUFBQyxHQUFHLE9BQUlBLEVBQUlDLE1BQU0sSUFDdEJGLE1BQUssU0FBQ0csR0FDTFgsUUFBUUMsSUFBSVUsR0FFU25JLFNBQVNDLGNBQWMsb0JBQy9CTSxJQUFNNEgsRUFBT0MsT0FFTixJQUFJOUMsRUFBUyxDQUMvQmIsS0FBTSxzQkFDTmUsTUFBTywrQkFDS21DLFlBQVlRLEVBQU8xRCxLQUFNMEQsRUFBTzNDLE1BSWhELElBR0ZvQyxNQUFNLHFEQUFzRCxDQUMxREMsT0FBUSxNQUNSQyxRQUFTLENBQ1BDLGNBQWUsMENBR2hCQyxNQUFLLFNBQUFDLEdBQUcsT0FBSUEsRUFBSUMsTUFBTSxJQUN0QkYsTUFBSyxTQUFDRyxHQUNMWCxRQUFRQyxJQUFJVSxHQUNaLElBQU1FLEVBQWMsSUFBSTFDLEVBQVEsQ0FDOUJFLE1BQU9zQyxFQUNQckMsU0FBVSxTQUFDSSxHQUNULElBR01nQixFQUhPLElBQUk5SCxFQUFLOEcsRUFBSzdHLFVBQVc2RyxFQUFLNUcsS0FBTSxtQkFBbUIsV0FDbEU2SCxXQUFXQyxLQUFLbEIsRUFBSzdHLFVBQVc2RyxFQUFLNUcsS0FDdkMsSUFDeUIrSCxhQUN6QmdCLEVBQVlDLFFBQVFwQixFQUN0QixHQUNDLFVBRUhtQixFQUFZRSxhQUNkLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIC8vU2UgaW5pY2lhbGl6YW4gbGFzIHZhcmlhYmxlc1xyXG4gIGNvbnN0cnVjdG9yKHBsYWNlTmFtZSwgbGluaywgdGVtcGxhdGVTZWxlY3RvciwgX2hhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fcGxhY2VOYW1lID0gcGxhY2VOYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IF9oYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG5cclxuICAvL3NlIHRyYWUgZWwgbm9kbyBkZWwgdGVtcGxhdGUgcXVlIGVzdGEgZW4gaHRtbCAoZWwgbWFyY2FkbylcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pdGVtXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2l0ZW0taW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZm9vdGVyLW5hbWVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9wbGFjZU5hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2l0ZW0taW1hZ2VcIikuYWx0ID0gXCJGb3RvIGRlIFwiICsgdGhpcy5fcGxhY2VOYW1lO1xyXG5cclxuICAgIC8vZGV0ZWN0b3IgZGUgZXZlbnRvIHBhcmEgY3VhbmRvIHNlIGRhIGNsaWNrIGFsIGJvdMOzbiBkZSBsaWtlXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2Zvb3Rlci1mYXYtYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9saWtlKCkpO1xyXG5cclxuICAgIC8vZGV0ZWN0b3IgZGUgZXZlbnRvIHBhcmEgY3VhbmRvIHNlIGRhIGNsaWNrIGFsIGJvdMOzbiBkZSBlbGltaW5hclxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19kZWxldGVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2RlbGV0ZSgpKTtcclxuXHJcbiAgICAvL2RldGVjdG9yIGRlIGV2ZW50byBwYXJhIGN1YW5kbyBzZSBkYSBjbGljayBhIHVuYSBpbWFnZW5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faXRlbS1pbWFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKX0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2xpa2UoKSB7XHJcbiAgICBjb25zdCBhY3RpdmVMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19mb290ZXItZmF2LWJ1dHRvblwiKTtcclxuICAgIGFjdGl2ZUxpa2UuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRzX19mb290ZXItZmF2LWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBfZGVsZXRlKCkge1xyXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19kZWxldGVcIik7XHJcbiAgICBkZWxldGVCdXR0b24uY2xvc2VzdChcIi5jYXJkc19faXRlbVwiKS5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGZvcm1Db25maWcuZm9ybVNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gZm9ybUNvbmZpZy5pbnB1dFNlbGVjdG87XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZm9ybUNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjsgXHJcbiAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBmb3JtQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGZvcm1Db25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICB0aGlzLl9lcnJvckNsYXNzID0gZm9ybUNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIik7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIik7XHJcbiAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZVwiKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH07XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gICAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fYnV0dG9uLXNhdmVfaW5hY3RpdmVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2J1dHRvbi1zYXZlX2luYWN0aXZlXCIpO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSk7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tc2F2ZVwiKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2FkbWluXCIpKTtcclxuICAgICAgICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgZmllbGRzZXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jb250YWluZXJcIikpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBmaWVsZHNldExpc3QuZm9yRWFjaCgoZmllbGRzZXQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhmaWVsZHNldCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTsgICAgXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XHJcbmNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpe1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZG1pblwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0IFwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0OyAgXHJcbn1cclxuXHJcbmdldElucHV0VmFsdWVzKCl7XHJcbnRoaXMuZm9ybVZhbHVlcyA9IHt9O1xyXG50aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpPT57XHJcbiAgICB0aGlzLmZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxufSk7XHJcbnJldHVybiB0aGlzLmZvcm1WYWx1ZXM7ICBcclxufVxyXG5cclxuXHJcbnNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZG1pblwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpPT57XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0O1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNsb3NlKCl7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxufVxyXG5cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCk9PiB7XHJcbiAgICAgICAgLy9hbG1hY2VuYSBsYSBsw7NnaWNhIHBhcmEgY2VycmFyIGVsIHBvcHVwIGFsIHB1bHNhciBsYSB0ZWNsYSBFc2MuXHJcbiAgICAgICAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICAvL2FncmVnYSB1biBkZXRlY3RvciBkZSBldmVudG9zIGRlIGNsaWNrIGFsIGljb25vIGNlcnJhciBkZWwgcG9wdXAuIExhIHZlbnRhbmEgbW9kYWwgdGFtYmnDqW4gZGViZSBjZXJyYXJzZSBjdWFuZG8gbG9zIHVzdWFyaW9zIGhhY2VuIGNsaWMgZW4gZWwgw6FyZWEgc29tYnJlYWRhIGRlbCBmb3JtdWxhcmlvLlxyXG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWljb25cIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19vdmVybGF5XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XHJcbiAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgfVxyXG4gIH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySXRlbXMoKXtcclxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCl7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBsb2dvIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcclxuaW1wb3J0IGNsb3NlQnV0dG9uIGZyb20gXCIuLi9pbWFnZXMvY2xvc2UucG5nXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vU2VjdGlvbi5qc1wiO1xyXG5cclxuY29uc3QgaW1hZ2VMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2xvZ29cIik7XHJcbmltYWdlTG9nby5zcmMgPSBsb2dvO1xyXG5cclxuY29uc3QgY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jbG9zZS1pY29uXCIpO1xyXG5jbG9zZS5mb3JFYWNoKGl0ZW0gPT57XHJcbiAgaXRlbS5zcmMgPSBjbG9zZUJ1dHRvbjtcclxufSlcclxuXHJcbmNvbnN0IHBsYWNlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RleHQtaW5wdXQtcGxhY2VcIik7XHJcbmNvbnN0IGxpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdXJsLWlucHV0XCIpO1xyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RleHQtaW5wdXQtbmFtZVwiKTtcclxuY29uc3QgYWJvdXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGV4dC1pbnB1dC1hYm91dFwiKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgZmllbGRzZXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyXCIpO1xyXG5cclxuY29uc3QgbmV3VmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHtcclxuICAgIGZvcm1TZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYWRtaW5cIiksXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tc2F2ZVwiKSxcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwb3B1cF9fYnV0dG9uLXNhdmVfZGlzYWJsZWRcIiksXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiKSxcclxuICAgIGVycm9yQ2xhc3M6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiKVxyXG4gIH0sXHJcbiAgZmllbGRzZXRMaXN0XHJcbik7XHJcblxyXG5uZXdWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vY3JlYSB1bmEgaW5zdGFuY2lhIGRlIFBvcHVwV2l0aEZvcm1cclxuY29uc3QgcG9wdXBQbGFjZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLXBsYWNlXCIsICh7dGl0bGUsbGlua30pPT57XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHRpdGxlLCBsaW5rLCBcIiNjYXJkcy10ZW1wbGF0ZVwiLCBmdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soKXtcclxuICAgIFBvcHVwSW1hZ2Uub3Blbih0aXRsZSwgbGluayk7XHJcbiAgfSk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIHBsYWNlSW5wdXQudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICBsaW5rSW5wdXQudGV4dENvbnRlbnQgPSBsaW5rO1xyXG59KTtcclxuXHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cC1wcm9maWxlXCIsICh7bmFtZSxhYm91dH0pPT57XHJcbiAgY29uc29sZS5sb2cobmFtZSwgYWJvdXQpO1xyXG4gIG5hbWVJbnB1dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgYWJvdXRJbnB1dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG5uZXdVc2VySW5mby5zZXRVc2VySW5mbyhuYW1lLCBhYm91dCk7XHJcbn0pO1xyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgcGxhY2VJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgbGlua0lucHV0LnZhbHVlID0gXCJcIjtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwb3B1cFBsYWNlLm9wZW4oKTtcclxufSk7XHJcblxyXG5cclxuLy9zZSB0cmFlIGxhIElORk8gZGVsIHVzdWFyaW9cclxuZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18xMS91c2Vycy9tZVwiLCB7XHJcbiAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiOTZiNGRjM2MtMGNjYi00ZjQ0LWIyMmQtMzBkNGNhNjQ3NDRmXCJcclxuICB9XHJcbn0pXHJcbiAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuXHJcbiAgICBjb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuICAgIHByb2ZpbGVJbWFnZS5zcmMgPSByZXN1bHQuYXZhdGFyO1xyXG5cclxuICAgIGNvbnN0IG5ld1VzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogXCIucHJvZmlsZV9faW5mby1uYW1lXCIsIFxyXG4gICAgICBhYm91dDogXCIucHJvZmlsZV9faW5mby1kZXNjcmlwdGlvblwifSk7XHJcbiAgICAgIG5ld1VzZXJJbmZvLnNldFVzZXJJbmZvKHJlc3VsdC5uYW1lLCByZXN1bHQuYWJvdXQpO1xyXG4gICAgXHJcbiAgICAvLyBjb25zdCBQb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwLWNhcmRcIik7XHJcbiAgXHJcbiAgfSk7XHJcblxyXG4vL1NlIHRyYWVuIGxhcyBDQVJEUyBjb24gbGEgaW5mb3JtYWNpw7NuIHF1ZSBlc3TDoSBlbiBlbCBzZXJ2aWRvclxyXG5mZXRjaChcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExL2NhcmRzXCIsIHtcclxuICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI5NmI0ZGMzYy0wY2NiLTRmNDQtYjIyZC0zMGQ0Y2E2NDc0NGZcIlxyXG4gIH1cclxufSlcclxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgIGl0ZW1zOiByZXN1bHQsXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLnBsYWNlTmFtZSwgaXRlbS5saW5rLCBcIiNjYXJkcy10ZW1wbGF0ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICBQb3B1cEltYWdlLm9wZW4oaXRlbS5wbGFjZU5hbWUsIGl0ZW0ubGluayk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0sIFwiLmNhcmRzXCIpO1xyXG4gICAgXHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBmZXRjaChcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExL3VzZXJzL21lXCIsIHtcclxuICAvLyAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gIC8vICAgaGVhZGVyczoge1xyXG4gIC8vICAgICBhdXRob3JpemF0aW9uOiBcIjk2YjRkYzNjLTBjY2ItNGY0NC1iMjJkLTMwZDRjYTY0NzQ0ZlwiLFxyXG4gIC8vICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIC8vICAgfSxcclxuICAvLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAvLyAgICAgbmFtZTogXCJNYXJpZSBTa8WCb2Rvd3NrYSBDdXJpZVwiLFxyXG4gIC8vICAgICBhYm91dDogXCJGw61zaWNvIHkgcXXDrW1pY29zLS0tLS0tXCJcclxuICAvLyAgIH0pXHJcbiAgLy8gfSk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJDYXJkIiwicGxhY2VOYW1lIiwibGluayIsInRlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9wbGFjZU5hbWUiLCJfbGluayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RoaXMiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsInNyYyIsInRleHRDb250ZW50IiwiYWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlIiwiX2RlbGV0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZm9ybUNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJhZGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiZmllbGRzZXQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG8iLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwicG9wdXBTZWxlY3RvciIsImhhbmRsZUZvcm1TdWJtaXQiLCJfY2FsbFN1cGVyIiwiX3BvcHVwRWxlbWVudCIsIl9pbnB1dExpc3QiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbmhlcml0cyIsIl90aGlzMiIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJfdGhpczMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2FsbCIsImdldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cCIsImNsb3NlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiVXNlckluZm8iLCJfcmVmIiwiYWJvdXQiLCJfbmFtZSIsIl9hYm91dCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwibG9nbyIsImNsb3NlQnV0dG9uIiwicGxhY2VJbnB1dCIsImxpbmtJbnB1dCIsIm5hbWVJbnB1dCIsImFib3V0SW5wdXQiLCJhZGRCdXR0b24iLCJlZGl0QnV0dG9uIiwiZmllbGRzZXRMaXN0IiwiaW5wdXRTZWxlY3RvciIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cFBsYWNlIiwidGl0bGUiLCJjYXJkRWxlbWVudCIsIlBvcHVwSW1hZ2UiLCJvcGVuIiwiY3JlYXRlQ2FyZCIsInBvcHVwUHJvZmlsZSIsIl9yZWYyIiwiY29uc29sZSIsImxvZyIsIm5ld1VzZXJJbmZvIiwic2V0VXNlckluZm8iLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsImpzb24iLCJyZXN1bHQiLCJhdmF0YXIiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=