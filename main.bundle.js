!function(){"use strict";var e="",t=e+"c75819857ff1599f0c50.svg",r=e+"342cc0a953e40ff4aadc.png",n=e+"6163c2039d1f0eb8d7ca.jpg";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var c=function(){return e=function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._placeName=t,this._link=r,this._templateSelector=n,this._handleCardClick=o},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".cards__item").cloneNode(!0)}},{key:"createCard",value:function(){var e=this;return this._element=this._getTemplate(),this._element.querySelector(".cards__item-image").src=this._link,this._element.querySelector(".cards__footer-name").textContent=this._placeName,this._element.querySelector(".cards__item-image").alt="Foto de "+this._placeName,this._element.querySelector(".cards__footer-fav-button").addEventListener("click",(function(){return e._like()})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){return e._delete()})),this._element.querySelector(".cards__item-image").addEventListener("click",(function(){e._handleCardClick()})),this._element}},{key:"_like",value:function(){this._element.querySelector(".cards__footer-fav-button").classList.toggle("cards__footer-fav-button_active")}},{key:"_delete",value:function(){this._element.querySelector(".cards__delete").closest(".cards__item").remove()}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var y=s((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"_showInputError",(function(e,t,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),n.textContent=r,n.classList.add("popup__input-error_active")})),p(this,"_hideInputError",(function(e,t){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),r.classList.remove("popup__input-error_active"),r.textContent=""})),p(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(e,t):n._showInputError(e,t,t.validationMessage)})),p(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),p(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?(t.disabled=!0,t.classList.add("popup__button-save_inactive")):(t.classList.remove("popup__button-save_inactive"),t.disabled=!1)})),p(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(".popup__input")),r=e.querySelector(".popup__button-save");n._toggleButtonState(t,r),t.forEach((function(o){o.addEventListener("input",(function(){n._checkInputValidity(e,o),n._toggleButtonState(t,r)}))}))})),p(this,"enableValidation",(function(){Array.from(document.querySelectorAll(".popup__admin")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(e.querySelectorAll(".popup__container")).forEach((function(e){n._setEventListeners(e)}))}))})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelecto,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=r}));function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}var d=function(){return e=function e(t){var r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=function(e){"Escape"===e.key&&i.close()},(n=v(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popupElement=document.querySelector(t),this.setEventListeners()},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-icon").addEventListener("click",(function(){e.close()})),this._popupElement.querySelector(".popup__overlay").addEventListener("click",(function(){e.close()}))}}])&&b(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}function w(e,t,r){return t=j(t),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,r||[],j(e).constructor):t.apply(e,r))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},E.apply(null,arguments)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var q=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,t,[e]))._formElement=n._popupElement.querySelector(".popup__admin"),n._inputList=n._formElement.querySelectorAll(".popup__input "),n._handleFormSubmit=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(n=[{key:"getInputValues",value:function(){var e=this;return this.formValues={},this._inputList.forEach((function(t){e.formValues[t.name]=t.value})),this.formValues}},{key:"setEventListeners",value:function(){var e=this;E(j(t.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".popup__admin").addEventListener("submit",(function(r){r.preventDefault,e._handleFormSubmit(e.getInputValues()),E(j(t.prototype),"close",e).call(e)}))}},{key:"close",value:function(){E(j(t.prototype),"close",this).call(this),this._formElement.reset()}}])&&h(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(d);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function L(e,t,r){return t=x(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,r||[],x(e).constructor):t.apply(e,r))}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},I.apply(null,arguments)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}var A=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(t,e),r=t,(n=[{key:"open",value:function(e,r){I(x(t.prototype),"open",this).call(this);var n=this._popupElement;n.querySelector(".popup__image").setAttribute("alt",e),n.querySelector(".popup__image").setAttribute("src",r),n.querySelector(".popup__title").textContent=e}},{key:"setEventListeners",value:function(){I(x(t.prototype),"setEventListeners",this).call(this)}}])&&k(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(d);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}var N=function(){return e=function e(t){var r=t.name,n=t.about;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(r),this._about=document.querySelector(n)},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._about.textContent=t}}])&&V(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function z(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(t)?t:t+""}var G=function(){return e=function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=n,this._renderer=o,this._container=document.querySelector(r)},(t=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.querySelector(".header__logo").src=t,document.querySelectorAll(".popup__close-icon").forEach((function(e){e.src=r})),document.querySelector(".profile__avatar").src=n;var J=document.querySelector("#text-input-place"),M=document.querySelector("#url-input"),H=document.querySelector("#text-input-name"),K=document.querySelector("#text-input-about"),Q=document.querySelector("#add-button"),W=document.querySelector("#edit-button"),X=document.querySelector(".popup__container"),Y=new N({name:".profile__info-name",about:".profile__info-description"});Y.setUserInfo("Jacques Costeau","Explorador");var Z=new A(".popup-card");new y({formSelector:document.querySelector(".popup__admin"),inputSelector:document.querySelectorAll(".popup__input"),submitButtonSelector:document.querySelector(".popup__button-save"),inactiveButtonClass:document.querySelector("popup__button-save_disabled"),inputErrorClass:document.querySelector("popup__input_type_error"),errorClass:document.querySelector("popup__error_visible")},X).enableValidation();var $=new q(".popup-place",(function(e){var t=e.title,r=e.link,n=new c(t,r,"#cards-template",(function(){Z.open(t,r)})).createCard();document.querySelector(".cards").prepend(n),J.textContent=t,M.textContent=r})),ee=new q(".popup-profile",(function(e){var t=e.name,r=e.about;console.log(t,r),H.textContent=t,K.textContent=r,Y.setUserInfo(t,r)}));W.addEventListener("click",(function(e){e.preventDefault(),ee.open()})),Q.addEventListener("click",(function(e){J.value="",M.value="",e.preventDefault(),$.open()})),fetch("https://around.nomoreparties.co/v1/web_es_11/users/me",{method:"GET",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("https://around.nomoreparties.co/v1/web_es_11/cards",{method:"GET",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f"}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=new G({items:e,renderer:function(e){var r=new c(e.placeName,e.link,"#cards-template",(function(){Z.open(e.placeName,e.link)})).createCard();t.addItem(r)}},".cards");t.renderItems()})),fetch("https://around.nomoreparties.co/v1/web_es_11/users/me",{method:"PATCH",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f","Content-Type":"application/json"},body:JSON.stringify({name:"Marie Skłodowska Curie",about:"Físico y químicos"})})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHdEQUF5RCxDQUM3REMsT0FBUSxNQUNSQyxRQUFTLENBQ1BDLGNBQWUsMENBR2hCQyxNQUFLLFNBQUFDLEdBQUcsT0FBSUEsRUFBSUMsTUFBTSxJQUN0QkYsTUFBSyxTQUFDRyxHQUNMVCxRQUFRQyxJQUFJUSxFQUVkLElBR0ZQLE1BQU0scURBQXNELENBQzFEQyxPQUFRLE1BQ1JDLFFBQVMsQ0FDUEMsY0FBZSwwQ0FHaEJDLE1BQUssU0FBQUMsR0FBRyxPQUFJQSxFQUFJQyxNQUFNLElBQ3RCRixNQUFLLFNBQUNHLEdBQ0xULFFBQVFDLElBQUlRLEdBQ1osSUFBTUMsRUFBYyxJQUFJMUMsRUFBUSxDQUM5QkUsTUFBT3VDLEVBQ1B0QyxTQUFVLFNBQUNJLEdBQ1QsSUFHTW9CLEVBSE8sSUFBSXRJLEVBQUtrSCxFQUFLakgsVUFBV2lILEVBQUtoSCxLQUFNLG1CQUFtQixXQUNsRStILEVBQVdNLEtBQUtyQixFQUFLakgsVUFBV2lILEVBQUtoSCxLQUN2QyxJQUN5QnNJLGFBQ3pCYSxFQUFZQyxRQUFRaEIsRUFDdEIsR0FDQyxVQUVIZSxFQUFZRSxhQUNkLElBRUFWLE1BQU0sd0RBQXlELENBQzdEQyxPQUFRLFFBQ1JDLFFBQVMsQ0FDUEMsY0FBZSx1Q0FDZixlQUFnQixvQkFFbEJRLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJoRSxLQUFNLHlCQUNOYyxNQUFPLHVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9jYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAvL1NlIGluaWNpYWxpemFuIGxhcyB2YXJpYWJsZXNcclxuICBjb25zdHJ1Y3RvcihwbGFjZU5hbWUsIGxpbmssIHRlbXBsYXRlU2VsZWN0b3IsIF9oYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX3BsYWNlTmFtZSA9IHBsYWNlTmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBfaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuXHJcbiAgLy9zZSB0cmFlIGVsIG5vZG8gZGVsIHRlbXBsYXRlIHF1ZSBlc3RhIGVuIGh0bWwgKGVsIG1hcmNhZG8pXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faXRlbVwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pdGVtLWltYWdlXCIpLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2Zvb3Rlci1uYW1lXCIpLnRleHRDb250ZW50ID0gdGhpcy5fcGxhY2VOYW1lO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pdGVtLWltYWdlXCIpLmFsdCA9IFwiRm90byBkZSBcIiArIHRoaXMuX3BsYWNlTmFtZTtcclxuXHJcbiAgICAvL2RldGVjdG9yIGRlIGV2ZW50byBwYXJhIGN1YW5kbyBzZSBkYSBjbGljayBhbCBib3TDs24gZGUgbGlrZVxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19mb290ZXItZmF2LWJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5fbGlrZSgpKTtcclxuXHJcbiAgICAvL2RldGVjdG9yIGRlIGV2ZW50byBwYXJhIGN1YW5kbyBzZSBkYSBjbGljayBhbCBib3TDs24gZGUgZWxpbWluYXJcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZGVsZXRlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9kZWxldGUoKSk7XHJcblxyXG4gICAgLy9kZXRlY3RvciBkZSBldmVudG8gcGFyYSBjdWFuZG8gc2UgZGEgY2xpY2sgYSB1bmEgaW1hZ2VuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2l0ZW0taW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCl9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9saWtlKCkge1xyXG4gICAgY29uc3QgYWN0aXZlTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZm9vdGVyLWZhdi1idXR0b25cIik7XHJcbiAgICBhY3RpdmVMaWtlLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkc19fZm9vdGVyLWZhdi1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgX2RlbGV0ZSgpIHtcclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZGVsZXRlXCIpO1xyXG4gICAgZGVsZXRlQnV0dG9uLmNsb3Nlc3QoXCIuY2FyZHNfX2l0ZW1cIikucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBmb3JtQ29uZmlnLmZvcm1TZWxlY3RvcjtcclxuICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGZvcm1Db25maWcuaW5wdXRTZWxlY3RvO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGZvcm1Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7IFxyXG4gICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZm9ybUNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBmb3JtQ29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IGZvcm1Db25maWcuZXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIpO1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgX2hpZGVJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIpO1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICAgICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2J1dHRvbi1zYXZlX2luYWN0aXZlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19idXR0b24tc2F2ZV9pbmFjdGl2ZVwiKTtcclxuICAgICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG4gICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLXNhdmVcIik7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgICAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19hZG1pblwiKSk7XHJcbiAgICAgICAgICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc2V0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fY29udGFpbmVyXCIpKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgZmllbGRzZXRMaXN0LmZvckVhY2goKGZpZWxkc2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoZmllbGRzZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07ICAgIFxyXG59IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbigpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KT0+IHtcclxuICAgICAgICAvL2FsbWFjZW5hIGxhIGzDs2dpY2EgcGFyYSBjZXJyYXIgZWwgcG9wdXAgYWwgcHVsc2FyIGxhIHRlY2xhIEVzYy5cclxuICAgICAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vYWdyZWdhIHVuIGRldGVjdG9yIGRlIGV2ZW50b3MgZGUgY2xpY2sgYWwgaWNvbm8gY2VycmFyIGRlbCBwb3B1cC4gTGEgdmVudGFuYSBtb2RhbCB0YW1iacOpbiBkZWJlIGNlcnJhcnNlIGN1YW5kbyBsb3MgdXN1YXJpb3MgaGFjZW4gY2xpYyBlbiBlbCDDoXJlYSBzb21icmVhZGEgZGVsIGZvcm11bGFyaW8uXHJcbiAgICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtaWNvblwiKTtcclxuICAgICAgICBcclxuICAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX292ZXJsYXlcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cHtcclxuY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCl7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2FkbWluXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXQgXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7ICBcclxufVxyXG5cclxuZ2V0SW5wdXRWYWx1ZXMoKXtcclxudGhpcy5mb3JtVmFsdWVzID0ge307XHJcbnRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCk9PntcclxuICAgIHRoaXMuZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG59KTtcclxucmV0dXJuIHRoaXMuZm9ybVZhbHVlczsgIFxyXG59XHJcblxyXG5cclxuc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2FkbWluXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCk9PntcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQ7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLmdldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY2xvc2UoKXtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG59XHJcblxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4ocGxhY2VOYW1lLCBsaW5rKSB7XHJcbiAgICAgICAgLy9hw7FhZGlyIHVuYSBpbWFnZW4gYWwgcG9wdXAgeSBlbCBjb3JyZXNwb25kaWVudGUgYXRyaWJ1dG8gZGUgaW1hZ2VuIHNyYyBqdW50byBjb24gdW5hIGxleWVuZGEgcGFyYSBsYSBpbWFnZW4uXHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIGNvbnN0IHBvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIikuc2V0QXR0cmlidXRlKFwiYWx0XCIsIHBsYWNlTmFtZSk7XHJcbiAgICAgICAgcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgbGluayk7XHJcbiAgICAgICAgcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHBsYWNlTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XHJcbiAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgfVxyXG4gIH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySXRlbXMoKXtcclxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCl7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBsb2dvIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcclxuaW1wb3J0IGNsb3NlQnV0dG9uIGZyb20gXCIuLi9pbWFnZXMvY2xvc2UucG5nXCI7XHJcbmltcG9ydCBwcm9maWxlIGZyb20gXCIuLi9pbWFnZXMvcHJvZmlsZS5qcGdcIjtcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vU2VjdGlvbi5qc1wiO1xyXG5cclxuY29uc3QgaW1hZ2VMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2xvZ29cIik7XHJcbmltYWdlTG9nby5zcmMgPSBsb2dvO1xyXG5cclxuY29uc3QgY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jbG9zZS1pY29uXCIpO1xyXG5jbG9zZS5mb3JFYWNoKGl0ZW0gPT57XHJcbiAgaXRlbS5zcmMgPSBjbG9zZUJ1dHRvbjtcclxufSlcclxuXHJcblxyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxucHJvZmlsZUltYWdlLnNyYyA9IHByb2ZpbGU7XHJcblxyXG5jb25zdCBwbGFjZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZXh0LWlucHV0LXBsYWNlXCIpO1xyXG5jb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3VybC1pbnB1dFwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZXh0LWlucHV0LW5hbWVcIik7XHJcbmNvbnN0IGFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RleHQtaW5wdXQtYWJvdXRcIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1idXR0b25cIik7XHJcblxyXG5jb25zdCBmaWVsZHNldExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJcIik7XHJcblxyXG5jb25zdCBuZXdVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogXCIucHJvZmlsZV9faW5mby1uYW1lXCIsIFxyXG4gIGFib3V0OiBcIi5wcm9maWxlX19pbmZvLWRlc2NyaXB0aW9uXCJ9KTtcclxuICBuZXdVc2VySW5mby5zZXRVc2VySW5mbyhcIkphY3F1ZXMgQ29zdGVhdVwiLCBcIkV4cGxvcmFkb3JcIik7XHJcblxyXG5jb25zdCBQb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwLWNhcmRcIik7XHJcblxyXG5jb25zdCBuZXdWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAge1xyXG4gICAgZm9ybVNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZG1pblwiKSxcclxuICAgIGlucHV0U2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbi1zYXZlXCIpLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInBvcHVwX19idXR0b24tc2F2ZV9kaXNhYmxlZFwiKSxcclxuICAgIGlucHV0RXJyb3JDbGFzczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIpLFxyXG4gICAgZXJyb3JDbGFzczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInBvcHVwX19lcnJvcl92aXNpYmxlXCIpXHJcbiAgfSxcclxuICBmaWVsZHNldExpc3RcclxuKTtcclxuXHJcbm5ld1ZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9jcmVhIHVuYSBpbnN0YW5jaWEgZGUgUG9wdXBXaXRoRm9ybVxyXG5jb25zdCBwb3B1cFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXAtcGxhY2VcIiwgKHt0aXRsZSxsaW5rfSk9PntcclxuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQodGl0bGUsIGxpbmssIFwiI2NhcmRzLXRlbXBsYXRlXCIsIGZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljaygpe1xyXG4gICAgUG9wdXBJbWFnZS5vcGVuKHRpdGxlLCBsaW5rKTtcclxuICB9KTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuY3JlYXRlQ2FyZCgpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIikucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgcGxhY2VJbnB1dC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gIGxpbmtJbnB1dC50ZXh0Q29udGVudCA9IGxpbms7XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLXByb2ZpbGVcIiwgKHtuYW1lLGFib3V0fSk9PntcclxuICBjb25zb2xlLmxvZyhuYW1lLCBhYm91dCk7XHJcbiAgbmFtZUlucHV0LnRleHRDb250ZW50ID0gbmFtZTtcclxuICBhYm91dElucHV0LnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbm5ld1VzZXJJbmZvLnNldFVzZXJJbmZvKG5hbWUsIGFib3V0KTtcclxuXHJcbn0pO1xyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgcGxhY2VJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgbGlua0lucHV0LnZhbHVlID0gXCJcIjtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwb3B1cFBsYWNlLm9wZW4oKTtcclxufSk7XHJcblxyXG5cclxuLy9zZSB0cmFlIGxhIGluZm8gZGVsIHVzdWFyaW9cclxuZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18xMS91c2Vycy9tZVwiLCB7XHJcbiAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiOTZiNGRjM2MtMGNjYi00ZjQ0LWIyMmQtMzBkNGNhNjQ3NDRmXCJcclxuICB9XHJcbn0pXHJcbiAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuXHJcbiAgfSk7XHJcblxyXG4vL1NlIHRyYWVuIGxhcyB0YXJqZXRhcyBjb24gbGEgaW5mb3JtYWNpw7NuIHF1ZSBlc3TDoSBlbiBlbCBzZXJ2aWRvclxyXG5mZXRjaChcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExL2NhcmRzXCIsIHtcclxuICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI5NmI0ZGMzYy0wY2NiLTRmNDQtYjIyZC0zMGQ0Y2E2NDc0NGZcIlxyXG4gIH1cclxufSlcclxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgIGl0ZW1zOiByZXN1bHQsXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLnBsYWNlTmFtZSwgaXRlbS5saW5rLCBcIiNjYXJkcy10ZW1wbGF0ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICBQb3B1cEltYWdlLm9wZW4oaXRlbS5wbGFjZU5hbWUsIGl0ZW0ubGluayk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0sIFwiLmNhcmRzXCIpO1xyXG4gICAgXHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gIH0pO1xyXG5cclxuICBmZXRjaChcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExL3VzZXJzL21lXCIsIHtcclxuICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiBcIjk2YjRkYzNjLTBjY2ItNGY0NC1iMjJkLTMwZDRjYTY0NzQ0ZlwiLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgbmFtZTogXCJNYXJpZSBTa8WCb2Rvd3NrYSBDdXJpZVwiLFxyXG4gICAgICBhYm91dDogXCJGw61zaWNvIHkgcXXDrW1pY29zXCJcclxuICAgIH0pXHJcbiAgfSk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJDYXJkIiwicGxhY2VOYW1lIiwibGluayIsInRlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9wbGFjZU5hbWUiLCJfbGluayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RoaXMiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsInNyYyIsInRleHRDb250ZW50IiwiYWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlIiwiX2RlbGV0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZm9ybUNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJhZGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiZmllbGRzZXQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG8iLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjbG9zZSIsIl9wb3B1cEVsZW1lbnQiLCJzZXRFdmVudExpc3RlbmVycyIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczIiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9jYWxsU3VwZXIiLCJfaW5wdXRMaXN0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5oZXJpdHMiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJuYW1lIiwiX3RoaXMzIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNhbGwiLCJnZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJzZWxlY3RvciIsInBvcHVwSW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJVc2VySW5mbyIsIl9yZWYiLCJhYm91dCIsIl9uYW1lIiwiX2Fib3V0IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJsb2dvIiwiY2xvc2VCdXR0b24iLCJwcm9maWxlIiwicGxhY2VJbnB1dCIsImxpbmtJbnB1dCIsIm5hbWVJbnB1dCIsImFib3V0SW5wdXQiLCJhZGRCdXR0b24iLCJlZGl0QnV0dG9uIiwiZmllbGRzZXRMaXN0IiwibmV3VXNlckluZm8iLCJzZXRVc2VySW5mbyIsIlBvcHVwSW1hZ2UiLCJpbnB1dFNlbGVjdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwUGxhY2UiLCJ0aXRsZSIsImNhcmRFbGVtZW50Iiwib3BlbiIsImNyZWF0ZUNhcmQiLCJwb3B1cFByb2ZpbGUiLCJfcmVmMiIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsImpzb24iLCJyZXN1bHQiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==