!function(){"use strict";var e="",t=e+"c75819857ff1599f0c50.svg",r=e+"342cc0a953e40ff4aadc.png";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}var u=function(){return e=function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._placeName=t,this._link=r,this._templateSelector=n,this._handleCardClick=o},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".cards__item").cloneNode(!0)}},{key:"createCard",value:function(){var e=this;return this._element=this._getTemplate(),this._element.querySelector(".cards__item-image").src=this._link,this._element.querySelector(".cards__footer-name").textContent=this._placeName,this._element.querySelector(".cards__item-image").alt="Foto de "+this._placeName,this._element.querySelector(".cards__footer-fav-button").addEventListener("click",(function(){return e._like()})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){return e._delete()})),this._element.querySelector(".cards__item-image").addEventListener("click",(function(){e._handleCardClick()})),this._element}},{key:"_like",value:function(){this._element.querySelector(".cards__footer-fav-button").classList.toggle("cards__footer-fav-button_active")}},{key:"_delete",value:function(){this._element.querySelector(".cards__delete").closest(".cards__item").remove()}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function l(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var f=l((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_showInputError",(function(e,t,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),n.textContent=r,n.classList.add("popup__input-error_active")})),s(this,"_hideInputError",(function(e,t){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),r.classList.remove("popup__input-error_active"),r.textContent=""})),s(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(e,t):n._showInputError(e,t,t.validationMessage)})),s(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),s(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?(t.disabled=!0,t.classList.add("popup__button-save_inactive")):(t.classList.remove("popup__button-save_inactive"),t.disabled=!1)})),s(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(".popup__input")),r=e.querySelector(".popup__button-save");n._toggleButtonState(t,r),t.forEach((function(o){o.addEventListener("input",(function(){n._checkInputValidity(e,o),n._toggleButtonState(t,r)}))}))})),s(this,"enableValidation",(function(){Array.from(document.querySelectorAll(".popup__admin")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(e.querySelectorAll(".popup__container")).forEach((function(e){n._setEventListeners(e)}))}))})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelecto,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=r}));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var v=function(){return e=function e(t){var r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=function(e){"Escape"===e.key&&i.close()},(n=b(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popupElement=document.querySelector(t),this.setEventListeners()},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-icon").addEventListener("click",(function(){e.close()})),this._popupElement.querySelector(".popup__overlay").addEventListener("click",(function(){e.close()}))}}])&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}function S(e,t,r){return t=E(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},g.apply(null,arguments)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}var O=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=S(this,t,[e]))._formElement=n._popupElement.querySelector(".popup__admin"),n._inputList=n._formElement.querySelectorAll(".popup__input "),n._handleFormSubmit=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),r=t,(n=[{key:"getInputValues",value:function(){var e=this;return this.formValues={},this._inputList.forEach((function(t){e.formValues[t.name]=t.value})),this.formValues}},{key:"setEventListeners",value:function(){var e=this;g(E(t.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".popup__admin").addEventListener("submit",(function(r){r.preventDefault,e._handleFormSubmit(e.getInputValues()),g(E(t.prototype),"close",e).call(e)}))}},{key:"close",value:function(){g(E(t.prototype),"close",this).call(this),this._formElement.reset()}}])&&_(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(v);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function C(e,t,r){return t=I(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},T.apply(null,arguments)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var B=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),r=t,(n=[{key:"open",value:function(e,r){T(I(t.prototype),"open",this).call(this);var n=this._popupElement;n.querySelector(".popup__image").setAttribute("alt",e),n.querySelector(".popup__image").setAttribute("src",r),n.querySelector(".popup__title").textContent=e}},{key:"setEventListeners",value:function(){T(I(t.prototype),"setEventListeners",this).call(this)}}])&&k(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(v);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function V(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}var D=function(){return e=function e(t){var r=t.name,n=t.about;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(r),this._about=document.querySelector(n)},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._about.textContent=t}}])&&R(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function U(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}var z=function(){return e=function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=n,this._renderer=o,this._container=document.querySelector(r)},(t=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.querySelector(".header__logo").src=t,document.querySelectorAll(".popup__close-icon").forEach((function(e){e.src=r}));var M=document.querySelector("#text-input-place"),G=document.querySelector("#url-input"),J=document.querySelector("#text-input-name"),H=document.querySelector("#text-input-about"),K=document.querySelector("#add-button"),Q=document.querySelector("#edit-button"),W=document.querySelector(".popup__container");new f({formSelector:document.querySelector(".popup__admin"),inputSelector:document.querySelectorAll(".popup__input"),submitButtonSelector:document.querySelector(".popup__button-save"),inactiveButtonClass:document.querySelector("popup__button-save_disabled"),inputErrorClass:document.querySelector("popup__input_type_error"),errorClass:document.querySelector("popup__error_visible")},W).enableValidation();var X=new O(".popup-profile",(function(e){var t=e.name,r=e.about;console.log(t,r,"hola"),J.textContent=t,H.textContent=r,newUserInfo.setUserInfo(t,r)})),Y=new O(".popup-place",(function(e){var t=e.title,r=e.link,n=new u(t,r,"#cards-template",(function(){PopupImage.open(t,r)})).createCard();document.querySelector(".cards").prepend(n),M.textContent=t,G.textContent=r}));Q.addEventListener("click",(function(e){e.preventDefault(),X.open()})),K.addEventListener("click",(function(e){M.value="",G.value="",e.preventDefault(),Y.open()})),fetch("https://around.nomoreparties.co/v1/web_es_11/users/me",{method:"GET",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f"}}).then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".profile__avatar").src=e.avatar;var t=new D({name:".profile__info-name",about:".profile__info-description"});return t.setUserInfo(e.name,e.about),new B(".popup-card"),t})),fetch("https://around.nomoreparties.co/v1/web_es_11/cards",{method:"GET",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f"}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=new z({items:e,renderer:function(e){var r=new u(e.placeName,e.link,"#cards-template",(function(){PopupImage.open(e.placeName,e.link)})).createCard();t.addItem(r)}},".cards");t.renderItems()})),fetch("https://around.nomoreparties.co/v1/web_es_11/users/me",{method:"PATCH",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f","Content-Type":"application/json"},body:JSON.stringify({name:"Marie Skłodowska Curie",about:"Físico y químicos"})}),fetch("https://around.nomoreparties.co/v1/web_es_11/users/me",{method:"POST",headers:{authorization:"96b4dc3c-0ccb-4f44-b22d-30d4ca64744f","Content-Type":"application/json"},body:JSON.stringify({name:"Marie Skłodowska Curie",about:"Físico y químicoslllll"})})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMvQk0sSUFBTWdJLEVBQU9DLE9BRTFCLElBQU1qQixFQUFjLElBQUk3QixFQUFTLENBQy9CWixLQUFNLHNCQUNOYyxNQUFPLCtCQUlULE9BSEUyQixFQUFZQyxZQUFZZSxFQUFPekQsS0FBTXlELEVBQU8zQyxPQUUzQixJQUFJTixFQUFlLGVBQy9CaUMsQ0FFVCxJQUdGUyxNQUFNLHFEQUFzRCxDQUMxREMsT0FBUSxNQUNSQyxRQUFTLENBQ1BDLGNBQWUsMENBR2hCQyxNQUFLLFNBQUFDLEdBQUcsT0FBSUEsRUFBSUMsTUFBTSxJQUN0QkYsTUFBSyxTQUFDRyxHQUNMbEIsUUFBUUMsSUFBSWlCLEdBQ1osSUFBTUUsRUFBYyxJQUFJMUMsRUFBUSxDQUM5QkUsTUFBT3NDLEVBQ1ByQyxTQUFVLFNBQUNJLEdBQ1QsSUFHTXNCLEVBSE8sSUFBSXhJLEVBQUtrSCxFQUFLakgsVUFBV2lILEVBQUtoSCxLQUFNLG1CQUFtQixXQUNsRXVJLFdBQVdDLEtBQUt4QixFQUFLakgsVUFBV2lILEVBQUtoSCxLQUN2QyxJQUN5QnlJLGFBQ3pCVSxFQUFZQyxRQUFRZCxFQUN0QixHQUNDLFVBRUhhLEVBQVlFLGFBQ2QsSUFHQVgsTUFBTSx3REFBeUQsQ0FDN0RDLE9BQVEsUUFDUkMsUUFBUyxDQUNQQyxjQUFlLHVDQUNmLGVBQWdCLG9CQUVsQlMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQmhFLEtBQU0seUJBQ05jLE1BQU8sd0JBS2JvQyxNQUFNLHdEQUF5RCxDQUM3REMsT0FBUSxPQUNSQyxRQUFTLENBQ1BDLGNBQWUsdUNBQ2YsZUFBZ0Isb0JBRWxCUyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CaEUsS0FBTSx5QkFDTmMsTUFBTyw0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvY2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgLy9TZSBpbmljaWFsaXphbiBsYXMgdmFyaWFibGVzXHJcbiAgY29uc3RydWN0b3IocGxhY2VOYW1lLCBsaW5rLCB0ZW1wbGF0ZVNlbGVjdG9yLCBfaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9wbGFjZU5hbWUgPSBwbGFjZU5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gX2hhbmRsZUNhcmRDbGljaztcclxuICB9XHJcblxyXG4gIC8vc2UgdHJhZSBlbCBub2RvIGRlbCB0ZW1wbGF0ZSBxdWUgZXN0YSBlbiBodG1sIChlbCBtYXJjYWRvKVxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2l0ZW1cIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZFRlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faXRlbS1pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19mb290ZXItbmFtZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3BsYWNlTmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faXRlbS1pbWFnZVwiKS5hbHQgPSBcIkZvdG8gZGUgXCIgKyB0aGlzLl9wbGFjZU5hbWU7XHJcblxyXG4gICAgLy9kZXRlY3RvciBkZSBldmVudG8gcGFyYSBjdWFuZG8gc2UgZGEgY2xpY2sgYWwgYm90w7NuIGRlIGxpa2VcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZm9vdGVyLWZhdi1idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2xpa2UoKSk7XHJcblxyXG4gICAgLy9kZXRlY3RvciBkZSBldmVudG8gcGFyYSBjdWFuZG8gc2UgZGEgY2xpY2sgYWwgYm90w7NuIGRlIGVsaW1pbmFyXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2RlbGV0ZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5fZGVsZXRlKCkpO1xyXG5cclxuICAgIC8vZGV0ZWN0b3IgZGUgZXZlbnRvIHBhcmEgY3VhbmRvIHNlIGRhIGNsaWNrIGEgdW5hIGltYWdlblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pdGVtLWltYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfbGlrZSgpIHtcclxuICAgIGNvbnN0IGFjdGl2ZUxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2Zvb3Rlci1mYXYtYnV0dG9uXCIpO1xyXG4gICAgYWN0aXZlTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZHNfX2Zvb3Rlci1mYXYtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9kZWxldGUoKSB7XHJcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2RlbGV0ZVwiKTtcclxuICAgIGRlbGV0ZUJ1dHRvbi5jbG9zZXN0KFwiLmNhcmRzX19pdGVtXCIpLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gZm9ybUNvbmZpZy5mb3JtU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBmb3JtQ29uZmlnLmlucHV0U2VsZWN0bztcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBmb3JtQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yOyBcclxuICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGZvcm1Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZm9ybUNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBmb3JtQ29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIF9oaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19idXR0b24tc2F2ZV9pbmFjdGl2ZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fYnV0dG9uLXNhdmVfaW5hY3RpdmVcIik7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpKTtcclxuICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbi1zYXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fYWRtaW5cIikpO1xyXG4gICAgICAgICAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBmaWVsZHNldExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2NvbnRhaW5lclwiKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGZpZWxkc2V0TGlzdC5mb3JFYWNoKChmaWVsZHNldCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGZpZWxkc2V0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9OyAgICBcclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCk9PiB7XHJcbiAgICAgICAgLy9hbG1hY2VuYSBsYSBsw7NnaWNhIHBhcmEgY2VycmFyIGVsIHBvcHVwIGFsIHB1bHNhciBsYSB0ZWNsYSBFc2MuXHJcbiAgICAgICAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICAvL2FncmVnYSB1biBkZXRlY3RvciBkZSBldmVudG9zIGRlIGNsaWNrIGFsIGljb25vIGNlcnJhciBkZWwgcG9wdXAuIExhIHZlbnRhbmEgbW9kYWwgdGFtYmnDqW4gZGViZSBjZXJyYXJzZSBjdWFuZG8gbG9zIHVzdWFyaW9zIGhhY2VuIGNsaWMgZW4gZWwgw6FyZWEgc29tYnJlYWRhIGRlbCBmb3JtdWxhcmlvLlxyXG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWljb25cIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19vdmVybGF5XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XHJcbmNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpe1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZG1pblwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0IFwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0OyAgXHJcbn1cclxuXHJcbmdldElucHV0VmFsdWVzKCl7XHJcbnRoaXMuZm9ybVZhbHVlcyA9IHt9O1xyXG50aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpPT57XHJcbiAgICB0aGlzLmZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxufSk7XHJcbnJldHVybiB0aGlzLmZvcm1WYWx1ZXM7ICBcclxufVxyXG5cclxuXHJcbnNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZG1pblwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpPT57XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0O1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNsb3NlKCl7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxufVxyXG5cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKHBsYWNlTmFtZSwgbGluaykge1xyXG4gICAgICAgIC8vYcOxYWRpciB1bmEgaW1hZ2VuIGFsIHBvcHVwIHkgZWwgY29ycmVzcG9uZGllbnRlIGF0cmlidXRvIGRlIGltYWdlbiBzcmMganVudG8gY29uIHVuYSBsZXllbmRhIHBhcmEgbGEgaW1hZ2VuLlxyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICBjb25zdCBwb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50O1xyXG5cclxuICAgICAgICBwb3B1cEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpLnNldEF0dHJpYnV0ZShcImFsdFwiLCBwbGFjZU5hbWUpO1xyXG4gICAgICAgIHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIikuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxpbmspO1xyXG4gICAgICAgIHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSBwbGFjZU5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xyXG4gICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXQpO1xyXG4gICAgfVxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIH1cclxuICB9IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbntcclxuICAgIGNvbnN0cnVjdG9yKHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKCl7XHJcbiAgICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpe1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgbG9nbyBmcm9tIFwiLi4vaW1hZ2VzL2xvZ28uc3ZnXCI7XHJcbmltcG9ydCBjbG9zZUJ1dHRvbiBmcm9tIFwiLi4vaW1hZ2VzL2Nsb3NlLnBuZ1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL1NlY3Rpb24uanNcIjtcclxuXHJcbmNvbnN0IGltYWdlTG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19sb2dvXCIpO1xyXG5pbWFnZUxvZ28uc3JjID0gbG9nbztcclxuXHJcbmNvbnN0IGNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fY2xvc2UtaWNvblwiKTtcclxuY2xvc2UuZm9yRWFjaChpdGVtID0+e1xyXG4gIGl0ZW0uc3JjID0gY2xvc2VCdXR0b247XHJcbn0pXHJcblxyXG5jb25zdCBwbGFjZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZXh0LWlucHV0LXBsYWNlXCIpO1xyXG5jb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3VybC1pbnB1dFwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZXh0LWlucHV0LW5hbWVcIik7XHJcbmNvbnN0IGFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RleHQtaW5wdXQtYWJvdXRcIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGZpZWxkc2V0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lclwiKTtcclxuXHJcbmNvbnN0IG5ld1ZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB7XHJcbiAgICBmb3JtU2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2FkbWluXCIpLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIiksXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLXNhdmVcIiksXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicG9wdXBfX2J1dHRvbi1zYXZlX2Rpc2FibGVkXCIpLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIiksXHJcbiAgICBlcnJvckNsYXNzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIilcclxuICB9LFxyXG4gIGZpZWxkc2V0TGlzdFxyXG4pO1xyXG5cclxubmV3VmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL2NyZWEgdW5hIGluc3RhbmNpYSBkZSBQb3B1cFdpdGhGb3JtIHBhcmEgZWwgUGVyZmlsXHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLXByb2ZpbGVcIiwgKHtuYW1lLGFib3V0fSk9PntcclxuICBjb25zb2xlLmxvZyhuYW1lLCBhYm91dCwgXCJob2xhXCIpO1xyXG4gIG5hbWVJbnB1dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgYWJvdXRJbnB1dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG5uZXdVc2VySW5mby5zZXRVc2VySW5mbyhuYW1lLCBhYm91dCk7fSk7XHJcblxyXG4vL2NyZWEgdW5hIGluc3RhbmNpYSBkZSBQb3B1cFdpdGhGb3JtIHBhcmEgbG9zIGx1Z2FyZXNcclxuY29uc3QgcG9wdXBQbGFjZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLXBsYWNlXCIsICh7dGl0bGUsbGlua30pPT57XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHRpdGxlLCBsaW5rLCBcIiNjYXJkcy10ZW1wbGF0ZVwiLCBmdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soKXtcclxuICAgIFBvcHVwSW1hZ2Uub3Blbih0aXRsZSwgbGluayk7XHJcbiAgfSk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIHBsYWNlSW5wdXQudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICBsaW5rSW5wdXQudGV4dENvbnRlbnQgPSBsaW5rO1xyXG59KTtcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwb3B1cFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuXHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gIHBsYWNlSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gIGxpbmtJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgcG9wdXBQbGFjZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vc2UgdHJhZSBsYSBJTkZPIGRlbCB1c3VhcmlvXHJcbmZldGNoKFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMTEvdXNlcnMvbWVcIiwge1xyXG4gIG1ldGhvZDogXCJHRVRcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjk2YjRkYzNjLTBjY2ItNGY0NC1iMjJkLTMwZDRjYTY0NzQ0ZlwiXHJcbiAgfVxyXG59KVxyXG4gIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4gIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcblxyXG4gICAgY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbiAgICBwcm9maWxlSW1hZ2Uuc3JjID0gcmVzdWx0LmF2YXRhcjtcclxuXHJcbiAgICBjb25zdCBuZXdVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICAgIG5hbWU6IFwiLnByb2ZpbGVfX2luZm8tbmFtZVwiLCBcclxuICAgICAgYWJvdXQ6IFwiLnByb2ZpbGVfX2luZm8tZGVzY3JpcHRpb25cIn0pO1xyXG4gICAgICBuZXdVc2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQubmFtZSwgcmVzdWx0LmFib3V0KTtcclxuICAgIFxyXG4gICAgY29uc3QgUG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cC1jYXJkXCIpO1xyXG4gICAgcmV0dXJuIG5ld1VzZXJJbmZvO1xyXG4gICAgXHJcbiAgfSk7XHJcblxyXG4vL1NlIHRyYWVuIGxhcyBDQVJEUyBjb24gbGEgaW5mb3JtYWNpw7NuIHF1ZSBlc3TDoSBlbiBlbCBzZXJ2aWRvclxyXG5mZXRjaChcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExL2NhcmRzXCIsIHtcclxuICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI5NmI0ZGMzYy0wY2NiLTRmNDQtYjIyZC0zMGQ0Y2E2NDc0NGZcIlxyXG4gIH1cclxufSlcclxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgIGl0ZW1zOiByZXN1bHQsXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLnBsYWNlTmFtZSwgaXRlbS5saW5rLCBcIiNjYXJkcy10ZW1wbGF0ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICBQb3B1cEltYWdlLm9wZW4oaXRlbS5wbGFjZU5hbWUsIGl0ZW0ubGluayk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0sIFwiLmNhcmRzXCIpO1xyXG4gICAgXHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gIH0pO1xyXG5cclxuICAvL0d1YXJkYSBsYSBpbmZvIGRlbCB1c3VhcmlvIGVuIGVsIHNlcnZpZG9yXHJcbiAgZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18xMS91c2Vycy9tZVwiLCB7XHJcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogXCI5NmI0ZGMzYy0wY2NiLTRmNDQtYjIyZC0zMGQ0Y2E2NDc0NGZcIixcclxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IFxyXG4gICAgICBuYW1lOiBcIk1hcmllIFNrxYJvZG93c2thIEN1cmllXCIsXHJcbiAgICAgIGFib3V0OiBcIkbDrXNpY28geSBxdcOtbWljb3NcIlxyXG4gICAgfSlcclxuICB9KTtcclxuXHJcbi8vIEHDsWFkaXIgVGFyamV0YSBudWV2YVxyXG5mZXRjaChcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExL3VzZXJzL21lXCIsIHtcclxuICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiOTZiNGRjM2MtMGNjYi00ZjQ0LWIyMmQtMzBkNGNhNjQ3NDRmXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIH0sXHJcbiAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgIG5hbWU6IFwiTWFyaWUgU2vFgm9kb3dza2EgQ3VyaWVcIixcclxuICAgIGFib3V0OiBcIkbDrXNpY28geSBxdcOtbWljb3NsbGxsbFwiXHJcbiAgICBcclxuICB9KVxyXG59KTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIkNhcmQiLCJwbGFjZU5hbWUiLCJsaW5rIiwidGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3BsYWNlTmFtZSIsIl9saW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJrZXkiLCJ2YWx1ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfdGhpcyIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwic3JjIiwidGV4dENvbnRlbnQiLCJhbHQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2UiLCJfZGVsZXRlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY2xvc2VzdCIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJmb3JtQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfZGVmaW5lUHJvcGVydHkiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImFkZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJidXR0b25FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJmaWVsZHNldCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0byIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0IiwiX2NhbGxTdXBlciIsIl9pbnB1dExpc3QiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbmhlcml0cyIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJfdGhpczMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2FsbCIsImdldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsInNlbGVjdG9yIiwicG9wdXBJbWFnZSIsInNldEF0dHJpYnV0ZSIsIlVzZXJJbmZvIiwiX3JlZiIsImFib3V0IiwiX25hbWUiLCJfYWJvdXQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImxvZ28iLCJjbG9zZUJ1dHRvbiIsInBsYWNlSW5wdXQiLCJsaW5rSW5wdXQiLCJuYW1lSW5wdXQiLCJhYm91dElucHV0IiwiYWRkQnV0dG9uIiwiZWRpdEJ1dHRvbiIsImZpZWxkc2V0TGlzdCIsImlucHV0U2VsZWN0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBQcm9maWxlIiwiY29uc29sZSIsImxvZyIsIm5ld1VzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cFBsYWNlIiwiX3JlZjIiLCJ0aXRsZSIsImNhcmRFbGVtZW50IiwiUG9wdXBJbWFnZSIsIm9wZW4iLCJjcmVhdGVDYXJkIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXMiLCJqc29uIiwicmVzdWx0IiwiYXZhdGFyIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=